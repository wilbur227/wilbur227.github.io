<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="John Doe" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">



    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Hexo</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: 
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 6.3.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/keyboardcat.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:976816104@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="/wilbur227" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" href="/qq_51000584" title="CSDN"></a>
                            
                                <a class="fa QQ" href="/976816104" title="QQ"></a>
                            
                                <a class="fa 微信" href="/z976816104" title="微信"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/keyboardcat.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:976816104@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="/wilbur227" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa CSDN" target="_blank" href="/qq_51000584" title="CSDN"></a>
                            
                                <a class="fa QQ" target="_blank" href="/976816104" title="QQ"></a>
                            
                                <a class="fa 微信" target="_blank" href="/z976816104" title="微信"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-Python笔记（笔记）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/11/03/Python%E7%AC%94%E8%AE%B0%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/" class="article-date">
      <time datetime="2022-11-03T02:59:22.000Z" itemprop="datePublished">2022-11-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/11/03/Python%E7%AC%94%E8%AE%B0%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/">Python（笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>[TOC]</p>
<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-信息存储与管理（笔记）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/10/11/%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8%E4%B8%8E%E7%AE%A1%E7%90%86%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/" class="article-date">
      <time datetime="2022-10-11T09:26:49.000Z" itemprop="datePublished">2022-10-11</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/11/%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8%E4%B8%8E%E7%AE%A1%E7%90%86%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/">信息存储与管理（笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="信息存储与管理"><a href="#信息存储与管理" class="headerlink" title="信息存储与管理"></a>信息存储与管理</h1><h2 id="1-存储系统"><a href="#1-存储系统" class="headerlink" title="1.存储系统"></a>1.存储系统</h2><h2 id="2-存储系统环境"><a href="#2-存储系统环境" class="headerlink" title="2.存储系统环境"></a>2.存储系统环境</h2><h3 id="文件级虚拟化"><a href="#文件级虚拟化" class="headerlink" title="文件级虚拟化"></a>文件级虚拟化</h3><p>•清除了在文件級访问的数据与文件的物理存储位置之间的相关<br>性<br>•使用户能够使用逻桥路径而非物理路径来访问文件<br>•使用将文件资源的逻桥路径映射到头物理路径的全局命名空问<br>•实现了跨文件服务器或 NAS 设备无中断地移动文件</p>
<p>文件级虚拟化致力于消除NSA环境中的文件访问和文件级存储位置之间的依存关系这为优化存储利用率、整合服务器和执行不间断文件迁移提供了实现的可能性。</p>
<h3 id="文件级分层存储管理-HSM"><a href="#文件级分层存储管理-HSM" class="headerlink" title="文件级分层存储管理 HSM"></a>文件级分层存储管理 HSM</h3><p>•将文件从校高层移到较低层<br>•存储层是根据成本、性能和可用性参数进行定义的<br>一使用策略引擎确定需要移到校低层的文件<br>•文件分层的主要用途是归档</p>
<h2 id="基于对象的存储"><a href="#基于对象的存储" class="headerlink" title="基于对象的存储"></a>基于对象的存储</h2><h3 id="基于对象的存储的驱动因素"><a href="#基于对象的存储的驱动因素" class="headerlink" title="基于对象的存储的驱动因素"></a>基于对象的存储的驱动因素</h3><h3 id="基于对象的存储设备"><a href="#基于对象的存储设备" class="headerlink" title="基于对象的存储设备"></a>基于对象的存储设备</h3><h3 id="分层文件系统与单层地址空间的对比"><a href="#分层文件系统与单层地址空间的对比" class="headerlink" title="分层文件系统与单层地址空间的对比"></a>分层文件系统与单层地址空间的对比</h3><h3 id="基于对象的存储设备的组件"><a href="#基于对象的存储设备的组件" class="headerlink" title="基于对象的存储设备的组件"></a>基于对象的存储设备的组件</h3><p>OSD节点（控制器）<br>内部网络<br>存储</p>
<h3 id="OSD的关键功能"><a href="#OSD的关键功能" class="headerlink" title="OSD的关键功能"></a>OSD的关键功能</h3><p>横向扩展体系结构<br>多租户<br>元数据驱动型策略<br>全局命名空间<br>灵活的数据访问放法<br>自动化系统管理<br>数据保护———跨地域分发</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-算法笔记（笔记）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/10/11/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/" class="article-date">
      <time datetime="2022-10-11T09:14:32.000Z" itemprop="datePublished">2022-10-11</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/11/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%EF%BC%88%E7%AC%94%E8%AE%B0%EF%BC%89/">算法与数据结构（笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>[TOC]</p>
<h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><h3 id="时间复杂度：TimeComplexity"><a href="#时间复杂度：TimeComplexity" class="headerlink" title="时间复杂度：TimeComplexity"></a>时间复杂度：TimeComplexity</h3><p>为了解决问题，程序中代码的总的执行次数</p>
<p>1.舍弃掉计算结果中的常数项<br>2.多项式级别的运算，只保留最大项<br>3.如果当前的算法在有限可数的资源消耗内即可完成。复杂度为O(1)</p>
<p>时间复杂度排列</p>
<p> O(1) &lt; O(logN) &lt; O(n) &lt; O(NlogN) &lt; O(n^2) &lt; O(n^3) &lt; O(2^n) </p>
<p>经验性结论：<br>1.单纯的顺序结构或者选择结构，时间复杂度为O(1)<br>2.一个单纯的循环结构一般情况下时间复杂度为O(n)<br>3.一般情况下两层嵌套循环，时间复杂度是O(n^2)<br>4.采用二分的分治法，时间复杂度是logn<br>5.会采用分治、递归、动态规划等算法用空间换取时间效率<br>6.两个顺序执行的循环，时间消耗取二者里的大值O(max(m,n))</p>
<h3 id="空间复杂度：SpaceComplexity"><a href="#空间复杂度：SpaceComplexity" class="headerlink" title="空间复杂度：SpaceComplexity"></a>空间复杂度：SpaceComplexity</h3><p>为了解决问题所额外消耗的空间</p>
<p>数据结构：<br>线性<br>非线性</p>
<p>线性结构:一对一存储<br>顺序存储：	<br>1.基于索引的查询速度块O(1)<br>2.对无序数组的数值搜素O(n)<br>3.对有序数组的数值搜素O(logn)<br>4.在数组空间足够的前提下：<br>尾添加O(1)尾删除:O(1)<br>5.在数组空间足够的前提下：<br>头添加、头删除、中间添加、中间删除，O(n)<br>空间不足，添加元素需要进行空间申请，及原有数据的拷贝</p>
<p>题目<br>一个有n个元素的数组，每个元素的值范围在0~n之间，检测数据是否重复出现，若重复出现，则当前数据是坏数据。<br>力扣 217</p>
<p>解法一、排序</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">public:</span><br><span class="line">    <span class="type">bool</span> <span class="title function_">containsDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;&amp; nums)</span> &#123;</span><br><span class="line">        sort(nums.begin(), nums.end());</span><br><span class="line">        <span class="type">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>解法二、索引</p>
<p>时间复杂度：O(n)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">IsDupLicate</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> nLength)</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> nIndex;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; nLength; ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] == i) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//检测当前数值作为索引对应的目标位置</span></span><br><span class="line">            nIndex = arr[i];</span><br><span class="line">            <span class="keyword">if</span> (arr[i] == arr[nIndex]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//交换</span></span><br><span class="line">                arr[i] = arr[nIndex] ^ arr[i];</span><br><span class="line">                arr[nIndex] = arr[nIndex] ^ arr[i];</span><br><span class="line">                arr[i] = arr[nIndex] ^ arr[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123; <span class="number">4</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="type">int</span> result = IsDupLicate(arr,<span class="keyword">sizeof</span>(arr)/<span class="keyword">sizeof</span>(arr[<span class="number">0</span>]));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,result);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="异或应用"><a href="#异或应用" class="headerlink" title="异或应用"></a>异或应用</h3><p>异或：相同为0，相异为1</p>
<p>不申请中间变量交换两个变量的值<br>a &#x3D; a^b;<br>b &#x3D; a^b;<br>a &#x3D; a^b;</p>
<p>不用运算符实现加法运算</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (num2)</span><br><span class="line">    &#123;</span><br><span class="line">            <span class="type">int</span> sum = num1 ^ num2; <span class="comment">//相加的结果</span></span><br><span class="line">            <span class="type">int</span> carry = (num1 &amp; num2) &lt;&lt; <span class="number">1</span>; <span class="comment">//进位的结果</span></span><br><span class="line">            num1 = sum;</span><br><span class="line">            num2 = carry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>链表，</p>
<p>数组，</p>
<p>栈，</p>
<p>队列，</p>
<p>字符串。</p>
<p>异或应用，</p>
<p>格雷码，</p>
<p>哈希表，</p>
<p>跳表，</p>
<p>kmp，</p>
<p>Sunday</p>
<p>一组数据内元素，2个元素出现1次，其他元素均出现2次，如何快速的找到只出现一次的元素<br>力扣 136</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">public:</span><br><span class="line">    <span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;&amp; nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	    <span class="type">int</span> i;</span><br><span class="line">	    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">	    	ans^= nums[i];</span><br><span class="line">	    &#125;</span><br><span class="line">    	</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>青蛙跳台阶<br>剑指 Offer 10- II. 青蛙跳台阶问题</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">public:</span><br><span class="line">    <span class="type">int</span> <span class="title function_">numWays</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> i_1 = <span class="number">1</span>;</span><br><span class="line">    	<span class="type">int</span> i_2 = <span class="number">1</span>;</span><br><span class="line">	    <span class="type">int</span> i = i_1 + i_2;</span><br><span class="line">    	<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">2</span>; k &lt;= n; k++)</span><br><span class="line">    	&#123;</span><br><span class="line">	    	i = (i_1 + i_2)%<span class="number">1000000007</span>;</span><br><span class="line">	    	i_1 = i_2;</span><br><span class="line">	    	i_2 = i;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





<p>递归<br>当前问题可以拆解成更小的子问题，子问题除数据规模以外，解决问题的方法与当前问题完全相同，并且有明确的终止条件</p>
<p>斐波那契数列<br>F(1) &#x3D; 1;<br>F(2) &#x3D; 2<br>F(n) &#x3D; F(n-1)+F(n-2)</p>
<h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><h4 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h4><h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><h4 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h4><h4 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h4><p>满二叉树、完全二叉树可以使用顺序存储</p>
<h4 id="5-一棵完全二叉树，从上到下，从左到右从1开始编号，编号范围为1-n"><a href="#5-一棵完全二叉树，从上到下，从左到右从1开始编号，编号范围为1-n" class="headerlink" title="5.一棵完全二叉树，从上到下，从左到右从1开始编号，编号范围为1~n"></a>5.一棵完全二叉树，从上到下，从左到右从1开始编号，编号范围为1~n</h4><p>编号为i的节点，如果</p>
<p>1&gt;满足： 2*i &lt;&#x3D; n 编号为i的节点有左孩子，左孩子编号为2*i</p>
<p>2&gt;满足：2*i+1 &lt;&#x3D;n 编号为i的节点有右孩子，右孩子编号为2*i+1,否则无右</p>
<p>3&gt;父亲节点编号范围为：1~n&#x2F;2</p>
<h3 id="二叉树遍历"><a href="#二叉树遍历" class="headerlink" title="二叉树遍历"></a>二叉树遍历</h3><p>前序：</p>
<p>中序：左、根、右</p>
<p>后序：左、右、根</p>
<h3 id="BST"><a href="#BST" class="headerlink" title="BST"></a>BST</h3><p>1查找</p>
<p>2Del</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Unix程序设计(笔记)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/10/04/Unix%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1(%E7%AC%94%E8%AE%B0)/" class="article-date">
      <time datetime="2022-10-04T03:01:24.000Z" itemprop="datePublished">2022-10-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/04/Unix%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1(%E7%AC%94%E8%AE%B0)/">Unix程序设计（笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>[TOC]</p>
<h1 id="UNIX程序设计笔记"><a href="#UNIX程序设计笔记" class="headerlink" title="UNIX程序设计笔记"></a>UNIX程序设计笔记</h1><h2 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="1-Unix基本操作"><a href="#1-Unix基本操作" class="headerlink" title="1.Unix基本操作"></a>1.Unix基本操作</h2><h3 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h3><p>ls<br>ls -l<br>ls -a<br>ls -R 递归列出所有文件夹<br>man ls查看命令帮助</p>
<p>echo输出<br>cd改变文件夹<br>cd ..回到上一个文件夹<br>cd &#x2F;回到根目录<br>cd ~<br>cd<br>pwd 获取文件所在路径</p>
<p>clear 清屏<br>当唯一确定时tab可以自动补齐<br>mkdir 创建文件夹<br>rmdir 移除文件夹<br>rm -r递归删除<br>rm -rf强制删除不询问<br>touch 创建文件<br>mv（移动文件&#x2F;重命名文件）<br>cp（拷贝文件或内容）<br>vi（打开一个文件编辑）<br>wq保存并退出<br>q直接退出<br>q!不保存退出</p>
<p>head查看前几行<br>tail查看后几行</p>
<p>ln 硬链接<br>ln -s软链接<br>wc<br>od<br>du<br>df -h查看磁盘使用情况<br>sudo临时提升权限<br>chmod更改权限<br>chown<br>find<br>grep “return” .&#x2F; -R</p>
<p>安装和卸载<br>sudo apt-get update<br>sudo apt-get install package</p>
<p>mount<br>sudo useradd -s 创建用户 </p>
<p>sudo su切换到root用户</p>
<p>进程管理：</p>
<p>ps  aux#监控后台进程</p>
<h4 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h4><p>ls -al 列目录 cp 源文件 目标文件 rm 文件名 mv 源文件 目标文件 ln 源文件 目标文件 cat 文件名 more 文件名</p>
<h4 id="目录管理"><a href="#目录管理" class="headerlink" title="目录管理"></a>目录管理</h4><p>pwd cd mkdir rmdir du</p>
<h4 id="文本编辑器vi"><a href="#文本编辑器vi" class="headerlink" title="文本编辑器vi"></a>文本编辑器vi</h4><p>sp上下分屏</p>
<p>vsp左右分屏</p>
<p>Ctr+w+w: 在多个窗口切换</p>
<h2 id="2-编程套件"><a href="#2-编程套件" class="headerlink" title="2.编程套件"></a>2.编程套件</h2><h3 id="gcc或cc"><a href="#gcc或cc" class="headerlink" title="gcc或cc"></a>gcc或cc</h3><h5 id="编译程序"><a href="#编译程序" class="headerlink" title="编译程序"></a>编译程序</h5><p>gcc [options] filename</p>
<p>gcc first.c</p>
<h5 id="执行程序"><a href="#执行程序" class="headerlink" title="执行程序"></a>执行程序</h5><p>a.outs是程序first.c经过编译后的目标码 .&#x2F;a.out</p>
<h5 id="gcc选项"><a href="#gcc选项" class="headerlink" title="gcc选项"></a>gcc选项</h5><p>编译源文件 gcc first.c gcc first.c end.c</p>
<h5 id="头文件-1"><a href="#头文件-1" class="headerlink" title="头文件"></a>头文件</h5><p>在当前目录中查找头文件 gcc -I.&#x2F; first.c 同时在&#x2F;user&#x2F;include和当前目录下查找头文件 gcc -I&#x2F;user&#x2F;include -I.&#x2F; first.c</p>
<h5 id="库文件"><a href="#库文件" class="headerlink" title="库文件"></a>库文件</h5><h5 id="目标文件"><a href="#目标文件" class="headerlink" title="目标文件"></a>目标文件</h5><h5 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h5><h5 id="编译选项"><a href="#编译选项" class="headerlink" title="编译选项"></a>编译选项</h5><h3 id="make"><a href="#make" class="headerlink" title="make"></a>make</h3><h3 id="gdb调试"><a href="#gdb调试" class="headerlink" title="gdb调试"></a>gdb调试</h3><h2 id="3-库的使用"><a href="#3-库的使用" class="headerlink" title="3.库的使用"></a>3.库的使用</h2><h4 id="静态库"><a href="#静态库" class="headerlink" title="静态库"></a>静态库</h4><p>静态库的代码在编译时链接到应用程序中，因此编译时库文件必须存在。<br>应用程序开始执行时，库函数代码段将随程序一起调入进程内存段，直到进程结束，其执行过程不需要原静态库存在。</p>
<h4 id="动态库"><a href="#动态库" class="headerlink" title="动态库"></a>动态库</h4><p>也称为共享库，其代码不会链接到目标文件之中，只有当动态库可访问时，应用程序才能正确执行动态库函数。</p>
<h5 id="隐式调用"><a href="#隐式调用" class="headerlink" title="隐式调用"></a>隐式调用</h5><p>动态库函数在应用程序开始执行时会自动载入内存，进程结束时又自动卸载。（编译方式与静态库一致）</p>
<h5 id="显示调用"><a href="#显示调用" class="headerlink" title="显示调用"></a>显示调用</h5><p>编译时可以不显示地提供原动态库文件及名称，但是必须遵循eloped等函数的规则实现调用</p>
<h4 id="操作工具"><a href="#操作工具" class="headerlink" title="操作工具"></a>操作工具</h4><p>使用ar命令可以创建或操作静态库，它的格式为：<br>ar [drqtpmx] [options] archive file objectfie</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>将objfile文件插入静态库尾或替换静态库中同名文件</td>
</tr>
<tr>
<td>-x</td>
<td>从静态库文件中抽取文件objfile</td>
</tr>
<tr>
<td>-t</td>
<td>打印静态库的成员文件列表</td>
</tr>
<tr>
<td>-d</td>
<td>从静态库中删除文件objfile</td>
</tr>
<tr>
<td>-s</td>
<td>重置静态库文件索引</td>
</tr>
<tr>
<td>-v</td>
<td>创建文件冗余信息</td>
</tr>
<tr>
<td>-c</td>
<td>创建静态库文件</td>
</tr>
</tbody></table>
<h4 id="静态库编程"><a href="#静态库编程" class="headerlink" title="静态库编程"></a>静态库编程</h4><p>源码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\\pr1.c</span><br><span class="line"><span class="type">void</span> <span class="title function_">print1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;This is the first lib src!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">\\pr2.c</span><br><span class="line"><span class="type">void</span> <span class="title function_">print2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;This is the second lib src!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="静态库的应用"><a href="#静态库的应用" class="headerlink" title="静态库的应用"></a>静态库的应用</h5><p>1.调用库函数代码 2.编译链接选项</p>
<h4 id="动态库编程"><a href="#动态库编程" class="headerlink" title="动态库编程"></a>动态库编程</h4><h2 id="4-文件系统结构"><a href="#4-文件系统结构" class="headerlink" title="4.文件系统结构"></a>4.文件系统结构</h2><h5 id="文件属性函数族"><a href="#文件属性函数族" class="headerlink" title="文件属性函数族"></a>文件属性函数族</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">stat</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *path,<span class="keyword">struct</span> stat *buf)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">fstat</span><span class="params">(<span class="type">int</span> flies,<span class="keyword">struct</span> stat *buf)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">lstat</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *path,<span class="keyword">struct</span> stat *buf)</span>;</span><br><span class="line">获取文件的属性信息存储到buf中</span><br></pre></td></tr></table></figure>

<h5 id="文件类型"><a href="#文件类型" class="headerlink" title="文件类型"></a>文件类型</h5><p>普通文件<br>目录文件<br>管道文件<br>设备文件<br>符号链接文件<br>SOCKET文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*判断文件类型1*/</span></span><br><span class="line"><span class="keyword">if</span>((st_mode &amp; _S_IFMT) == S_IFREG)&#123;</span><br><span class="line">  <span class="comment">//是普通文件</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="comment">//不是</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*判断文件类型2*/</span></span><br><span class="line"><span class="keyword">if</span>(S_ISREG(st_mode))是普通文件</span><br><span class="line"><span class="keyword">else</span> 不是</span><br></pre></td></tr></table></figure>

<p>判断文件类型宏<br>P51页<br>#include&lt;stat.h&gt;</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断输入的文件类型</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetFileType</span><span class="params">(<span class="type">mode_t</span> st_mode, <span class="type">char</span> *resp)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(resp == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span>(S_ISDIR(st_mode)) resp[<span class="number">0</span>] = <span class="string">&#x27;d&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(S_ISCHR(st_mode)) resp[<span class="number">0</span>] = <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(S_ISBLK(st_mode)) resp[<span class="number">0</span>] = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(S_ISREG(st_mode)) resp[<span class="number">0</span>] = <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(S_ISFIFO(st_mode)) resp[<span class="number">0</span>] = <span class="string">&#x27;p&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(S_ISLNK(st_mode)) resp[<span class="number">0</span>] = <span class="string">&#x27;l&#x27;</span>;</span><br><span class="line">  <span class="keyword">else</span> resp[<span class="number">0</span>] = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断输入的文件权限</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetFileMode</span><span class="params">(<span class="type">mode_t</span> st_mode,<span class="type">char</span> *resp)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(resp == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">memset</span>(resp, <span class="string">&#x27;-&#x27;</span>,<span class="number">9</span>);</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IRUSR) resp[<span class="number">0</span>] = <span class="string">&#x27;r&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IWUSR) resp[<span class="number">1</span>] = <span class="string">&#x27;w&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IXUSR) resp[<span class="number">2</span>] = <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IRGRP) resp[<span class="number">3</span>] = <span class="string">&#x27;r&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IWGRP) resp[<span class="number">4</span>] = <span class="string">&#x27;w&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IXGRP) resp[<span class="number">5</span>] = <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IROTH) resp[<span class="number">6</span>] = <span class="string">&#x27;r&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IWOTH) resp[<span class="number">7</span>] = <span class="string">&#x27;w&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span>(st_mode &amp; S_IXOTH) resp[<span class="number">8</span>] = <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">GetFileOtherAttr</span><span class="params">(<span class="keyword">struct</span> stat info,<span class="type">char</span> *resp)</span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tm</span> * <span class="title">mtime</span>;</span></span><br><span class="line">    <span class="keyword">if</span>(resp == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    mtime = localtime(&amp;info.st_mtime);</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">sprintf</span>(resp,<span class="string">&quot; %3d %6d %6d %11d %04d%02d%02d&quot;</span>,(<span class="type">int</span>)info.st_nlink,(<span class="type">int</span>)info.st_uid,(<span class="type">int</span>)info.st_gid,(<span class="type">int</span>)info.st_size,mtime-&gt;tm_year+<span class="number">1900</span>,mtime-&gt;tm_mon+<span class="number">1</span>,mtime-&gt;tm_mday));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span> **argv)</span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">info</span>;</span></span><br><span class="line">    <span class="type">char</span> buf[<span class="number">100</span>],*p = buf;</span><br><span class="line">    <span class="keyword">if</span>(argc != <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>,<span class="string">&quot;ls1 filename\n&quot;</span>);</span><br><span class="line">    	<span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">    <span class="keyword">if</span>(lstat(argv[<span class="number">1</span>],&amp;info) == <span class="number">0</span>)&#123;</span><br><span class="line">        p += GetFileType(info.st_mode,p);</span><br><span class="line">        p += GetFileMode(info.st_mode,p);</span><br><span class="line">        p += GetFileOtherAttr(info,p);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s %s\n&quot;</span>,buf,argv[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>,<span class="string">&quot;open file failed\n&quot;</span>);    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对比执行bf</span></span><br><span class="line"><span class="comment">//读取文件系统信息</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/statfs.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/vfs.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span> <span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">status</span> <span class="title">buf</span>;</span></span><br><span class="line">    <span class="keyword">if</span>(argc != <span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    statfs (argv [<span class="number">1</span>] ,&amp;buf, <span class="keyword">sizeof</span>(buf), <span class="number">0</span>) ;</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">&quot;FILE SYSTEM: \ntype=%d\n&quot;</span>, buf.f_type) ;</span><br><span class="line">    <span class="comment">/*文件系统类型*/</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;bsize=%d\n&quot;</span>, buf.f_bsize);</span><br><span class="line">    <span class="comment">/* 数据块大小*/</span></span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">&quot;blocks=%d\n&quot;</span> , buf.f_blocks) ;</span><br><span class="line">    <span class="comment">/* 数据块总数*/</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;bfee=%d\n&quot;</span>,buf.f_bfree);</span><br><span class="line">    *可用块数*</span><br><span class="line">    print (<span class="string">&quot;files=%d\n&quot;</span>, buf.f_files);</span><br><span class="line">    <span class="comment">/* inode总数*/</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ffree=%d\n&quot;</span>, buf.f_ffree):</span><br><span class="line">    <span class="comment">/* THinode* * /</span></span><br><span class="line"><span class="comment">    printf(&quot;%s  :%d blocks %d i-nodes\n&quot;,argv[1] , buf.f_bfree,buf.f_ffree);</span></span><br><span class="line"><span class="comment">    return 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="5-标准文件编程库"><a href="#5-标准文件编程库" class="headerlink" title="5.标准文件编程库"></a>5.标准文件编程库</h2><p>标准文件编程库中用于文件创建、打开、关闭与删除的西数如下： #include &lt;stdio.h&gt; FILE *fopen (const char *filename, const char *type) ; FILE *freopen (const char *filename, const char *type, FILE *stream) int close (FILE *stream) int remove (const char * filename); int rename (const char *oldname, const char *newname) 函数fopen打开或创建新文件； 函数fclose关闭文件； 函数freopen重新打开文件； 函数remove删除磁盘文件； 函数rename更改文件名称。 打开关闭文件函数族参数意义</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>filename</td>
<td>打开文件的名称(带路径)</td>
</tr>
<tr>
<td>Type</td>
<td>打开文件的方式，由权限和类型两部分组成，前者可以是文本文件，使用b表示二进制文件。</td>
</tr>
<tr>
<td>stream</td>
<td>己经打开的文件指针</td>
</tr>
</tbody></table>
<h2 id="6-低级文件编程库"><a href="#6-低级文件编程库" class="headerlink" title="6.低级文件编程库"></a>6.低级文件编程库</h2><h2 id="7-目录文件编程库"><a href="#7-目录文件编程库" class="headerlink" title="7.目录文件编程库"></a>7.目录文件编程库</h2><h2 id="8-设备文件"><a href="#8-设备文件" class="headerlink" title="8.设备文件"></a>8.设备文件</h2><h2 id="9-进程的控制"><a href="#9-进程的控制" class="headerlink" title="9.进程的控制"></a>9.进程的控制</h2><h5 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h5><p>进程由程序、数据、进程控制块三部分组成</p>
<p>程序：描述进程所要完成的功能</p>
<p>数据：为进程提供运行所需的堆栈和私有数据</p>
<p>进程控制块（PCB）：含有进程的描述和控制信息，集中反映进程的动态特性，是系统识别和控制进程的依据。</p>
<h5 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h5><p>又称负荷进程，是在进程基础上程序的一次执行，一个进程可以拥有多个线程。</p>
<p>线程没有独立资源，它共享进程ID和进程的资源。</p>
<p>线程是UNIX中最小的调度单位</p>
<h5 id="守护进程"><a href="#守护进程" class="headerlink" title="守护进程"></a>守护进程</h5><p>sysproc：标识号为0,能合理地调度系统中运行的进程，负责将进程从硬盘交换区调入内存或将进程从内存调到硬盘交换区。</p>
<p>init：标识号为1，系统初始化的进程，是sysproc外所有进程的父进程。</p>
<h5 id="前台进程和后台进程"><a href="#前台进程和后台进程" class="headerlink" title="前台进程和后台进程"></a>前台进程和后台进程</h5><p>前台进程会接管终端，SHELL不能再输入其他命令直到进程执行完</p>
<p>在命令串后加上“&amp;”，表示后台执行，后台进程不接管终端</p>
<h5 id="父子进程"><a href="#父子进程" class="headerlink" title="父子进程"></a>父子进程</h5><p>当一个进程启动另一个进程时，被启动的进程就是子进程，原进程就是父进程。父子进程以并行的方式执行同一程序的不同分支</p>
<h5 id="进程状态"><a href="#进程状态" class="headerlink" title="进程状态"></a>进程状态</h5><p>运行态：进程已经分配到CPU正在处理机上执行的状态</p>
<p>就绪态：进程已具备运行条件，但是其他进程正占用CPU，而暂时不能运行等待分配的状态</p>
<p>睡眠态：进程正在等待某事件发生而不能运行的状态，睡眠被唤醒后只能进入就绪态不能直接进入运行态。</p>
<h5 id="进程标识"><a href="#进程标识" class="headerlink" title="进程标识"></a>进程标识</h5><h5 id="进程的创建"><a href="#进程的创建" class="headerlink" title="进程的创建"></a>进程的创建</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">fork</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>新创建的进程称为子进程，调用fork()的进程称为父进程</p>
<p>如果fork()调用失败，返回-1；如果调用成功，则在父进程中返回子进程的标识号，在子进程中返回0。</p>
<p>创建fork1.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">pid_t</span> pid;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Process Begin. pid=[%d],i=[%d]\n&quot;</span>,getpid(),i);</span><br><span class="line">    <span class="keyword">if</span>((pid = fork()) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Parent pid=[%d],child pid=[%d]\n&quot;</span>,getpid(),pid);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pid == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Child pid=[%d]\n&quot;</span>,getpid());</span><br><span class="line">        i++;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Fork failed.\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Process end.pid=[%d],i=[%d]\n&quot;</span>,getpid(),i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Process Begin. pid=[2778],i=[0]</span><br><span class="line">Parent pid=[2778],child pid=[2779]</span><br><span class="line">Process end.pid=[2778],i=[0]</span><br><span class="line">Child pid=[2779]</span><br><span class="line">Process end.id=[2779],i=[1]</span><br></pre></td></tr></table></figure>



<h5 id="进程的休眠"><a href="#进程的休眠" class="headerlink" title="进程的休眠"></a>进程的休眠</h5><h5 id="进程的终止"><a href="#进程的终止" class="headerlink" title="进程的终止"></a>进程的终止</h5><h5 id="进程的同步"><a href="#进程的同步" class="headerlink" title="进程的同步"></a>进程的同步</h5><h5 id="僵尸进程"><a href="#僵尸进程" class="headerlink" title="僵尸进程"></a>僵尸进程</h5><p>已经中止但是没有从进程表中清除的进程。</p>
<h5 id="守护进程-1"><a href="#守护进程-1" class="headerlink" title="守护进程"></a>守护进程</h5><p>独立于终端，长期在后台运行，周期性的执行某项任务，或者阻塞直到事件发生，守护计算机系统的正常运行。</p>
<p>大部分SOCKET通信都是以守护进程的方式执行</p>
<p>编写：</p>
<p>1.后台执行</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">pid_t</span> pid1;</span><br><span class="line">pid1 = fork();</span><br><span class="line"><span class="keyword">if</span>(pid1&gt;<span class="number">0</span>)<span class="built_in">exit</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>2.独立于控制终端</p>
<p>自立新的进程组（会话组进程）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">setsid</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//调用成功返回创建的进程组ID，失败返回-1</span></span><br></pre></td></tr></table></figure>

<p>3.清除文件创建掩码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umask(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>4.处理信号</p>
<p>防止父进程没有等待子进程的结束而导致子进程僵死。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">signal(SIGCHLD,SIG_IGN);</span><br></pre></td></tr></table></figure>

<p>守护进程实例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;comlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;signal.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">ClearChild</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">pid_t</span> <span class="type">_pid_t</span>;</span><br><span class="line">    <span class="type">int</span> nState;</span><br><span class="line">    <span class="keyword">while</span>((<span class="type">_pid_t</span> = waitpid(<span class="number">-1</span>,&amp;nState,WNOHANG))&gt;<span class="number">0</span>);</span><br><span class="line">    signal(SIGCLD,ClearChild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitServer</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">pid_t</span> pid1;</span><br><span class="line">    ASSERT((pid1 = fork()) &gt;= <span class="number">0</span>);<span class="comment">/*等价于IF判断*/</span></span><br><span class="line">	<span class="comment">//创建子进程</span></span><br><span class="line">    <span class="keyword">if</span>( pid1 &gt; <span class="number">0</span>)&#123;<span class="comment">//父进程失败退出，子进程托管</span></span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    ASSERT(setsid() &gt;= <span class="number">0</span>);<span class="comment">//子进程脱离终端</span></span><br><span class="line">    umask(<span class="number">0</span>);<span class="comment">//清除文件创建掩码</span></span><br><span class="line">    signal(SIGINT,SIG_IGN);<span class="comment">//忽略程序终止程序</span></span><br><span class="line">    signal(SIGCLD,ClearChild);<span class="comment">//一次性的函数，处理信号预防僵死进程</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    InitServer();</span><br><span class="line">    sleep(<span class="number">120</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>进程间的交流：信号、通信</p>
<h2 id="10-时钟和信号"><a href="#10-时钟和信号" class="headerlink" title="10.时钟和信号"></a>10.时钟和信号</h2><h3 id="时钟"><a href="#时钟" class="headerlink" title="时钟"></a>时钟</h3><p>1970年1月1日0点0分0秒为UNIX纪元</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取本地时间</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h3><p>概念：信号是传递给进程的事件通知，它可以完成进程间异步事件的通信</p>
<h4 id="信号的产生"><a href="#信号的产生" class="headerlink" title="信号的产生"></a>信号的产生</h4><h5 id="1-程序出错"><a href="#1-程序出错" class="headerlink" title="1.程序出错"></a>1.程序出错</h5><p>硬件出现异常、除数为0、或者软件非法访问等情况时产生</p>
<h5 id="2-外部事件"><a href="#2-外部事件" class="headerlink" title="2.外部事件"></a>2.外部事件</h5><p>当定时器到达、用户按键中断或者进程调用abort等信号发送函数时产生</p>
<h5 id="3-显示请求"><a href="#3-显示请求" class="headerlink" title="3.显示请求"></a>3.显示请求</h5><p>当进程调用KILL、RAISE、等信号发送函数或者用户执行SHELL命令KILL传递信号时产生</p>
<h4 id="信号的处理"><a href="#信号的处理" class="headerlink" title="信号的处理"></a>信号的处理</h4><h5 id="1-系统处理"><a href="#1-系统处理" class="headerlink" title="1.系统处理"></a>1.系统处理</h5><p>由UNIX内核完成，系统对不同信号采取不同的默认处理方式</p>
<table>
<thead>
<tr>
<th align="left">方式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">终止</td>
<td>进程退出</td>
</tr>
<tr>
<td align="left">忽略</td>
<td>丢弃信号</td>
</tr>
<tr>
<td align="left">core-dump</td>
<td>进程退出，并将进程在内存中的数据和存储器状态以某种特殊的格式转存到文件系统core文件中，本类信号在程序异常时发生，产生core文件供程序员参考。</td>
</tr>
<tr>
<td align="left">挂起</td>
<td>进程进入睡眠状态</td>
</tr>
<tr>
<td align="left">继续</td>
<td>唤醒睡眠中的进程</td>
</tr>
</tbody></table>
<h5 id="2-忽略信号"><a href="#2-忽略信号" class="headerlink" title="2.忽略信号"></a>2.忽略信号</h5><h5 id="3-捕获信号"><a href="#3-捕获信号" class="headerlink" title="3.捕获信号"></a>3.捕获信号</h5><h4 id="信号全家福"><a href="#信号全家福" class="headerlink" title="信号全家福"></a>信号全家福</h4><table>
<thead>
<tr>
<th align="left">编号</th>
<th>信号</th>
<th>描述</th>
<th>默认动作</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td>SIGHUP</td>
<td>终端退出</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">2</td>
<td>SIGINT</td>
<td>程序终止</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">3</td>
<td>SIGQUIT</td>
<td>程序终止</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">4</td>
<td>SIGILL</td>
<td>非法指令</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">5</td>
<td>SIGTRAP</td>
<td>代码陷阱</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">6</td>
<td>SIGABRT</td>
<td>程序终止</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">7</td>
<td>SIGEMT</td>
<td>硬件故障</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">8</td>
<td>SIGFPE</td>
<td>算术异常</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">9</td>
<td>SIGKILL</td>
<td>程序终止</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">10</td>
<td>SIGBUS</td>
<td>总线错误</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">11</td>
<td>SIGSEGV</td>
<td>访问受限</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">12</td>
<td>SIGSYS</td>
<td>非法的系统调用</td>
<td>core-dump</td>
</tr>
<tr>
<td align="left">13</td>
<td>SIGPIPE</td>
<td>管道异常</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">14</td>
<td>SIGALRM</td>
<td>定时器</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">15</td>
<td>SIGTERM</td>
<td>程序终止</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">16</td>
<td>SIGUSR1</td>
<td>预留信号</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">17</td>
<td>SIGUSR2</td>
<td>预留信号</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">18</td>
<td>SIGCHLD</td>
<td>子进程退出</td>
<td>忽略信号</td>
</tr>
<tr>
<td align="left">19</td>
<td>SIGPWR</td>
<td>掉电</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">20</td>
<td>SIGWINCH</td>
<td>窗口改变</td>
<td>忽略信号</td>
</tr>
<tr>
<td align="left">21</td>
<td>SIGURG</td>
<td>紧急事件</td>
<td>忽略信号</td>
</tr>
<tr>
<td align="left">22</td>
<td>SIGPOLL</td>
<td>异步I&#x2F;O信号</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">23</td>
<td>SIGSTOP</td>
<td>挂起进程</td>
<td>挂起进程</td>
</tr>
<tr>
<td align="left">24</td>
<td>SIGTSTP</td>
<td>挂起进程</td>
<td>挂起进程</td>
</tr>
<tr>
<td align="left">25</td>
<td>SIGCONT</td>
<td>唤醒挂起进程</td>
<td>忽略信号</td>
</tr>
<tr>
<td align="left">26</td>
<td>SIGTTIN</td>
<td>后台进程读终端</td>
<td>挂起进程</td>
</tr>
<tr>
<td align="left">27</td>
<td>SIGTTOU</td>
<td>后台进程写终端</td>
<td>挂起进程</td>
</tr>
<tr>
<td align="left">28</td>
<td>SIGVTALRM</td>
<td>定时器</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">29</td>
<td>SIGPROF</td>
<td>定时器</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">30</td>
<td>SIGXCPU</td>
<td>超过CPU限制</td>
<td>终止进程</td>
</tr>
<tr>
<td align="left">31</td>
<td>SIGXFSZ</td>
<td>超过文件大小限制</td>
<td>终止进程</td>
</tr>
</tbody></table>
<h5 id="全局跳转"><a href="#全局跳转" class="headerlink" title="全局跳转"></a>全局跳转</h5><p>局部跳转： goto 只能跳转到所在函数的某个位置</p>
<p>setjmp存储当前的堆栈环境到参数env中，当函数正常调用成功时返回0。 函数longjmp调用成功后，程序转移到函数setjmp处执行，函数返回val。如果val取值为0，为了与上次正常调用区分，setjmp将返回1。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;setjump.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">setmp</span><span class="params">(jmp_buf env)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">longjmp</span><span class="params">(jmp_buf env,<span class="type">int</span> val)</span>;</span><br><span class="line">\\例子</span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;setjmp.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">jmp_buf env;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> i, k = <span class="number">0</span>;</span><br><span class="line">    i = setjmp(env);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;setjmp=[%d];j=[%d];k=[%d]\n&quot;</span>,i,j++,k++);</span><br><span class="line">    <span class="keyword">if</span>(j&gt;<span class="number">2</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    longjmp(env,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$.&#x2F;jmp1 setjmp&#x3D;[0];j&#x3D;[0];k&#x3D;[0] setjmp&#x3D;[1];j&#x3D;[1];k&#x3D;[0] setjmp&#x3D;[1];j&#x3D;[2];k&#x3D;[0]</p>
<h2 id="11-管道"><a href="#11-管道" class="headerlink" title="11.管道"></a>11.管道</h2><p>一种队列数据结构，它的数据从一端输入另一端输出。管道可以用于连接两个进程的输入输出，即把一个进程的输出变成另一个的输入。</p>
<h3 id="无名管道"><a href="#无名管道" class="headerlink" title="无名管道"></a>无名管道</h3><p>占用两个文件描述符，不能被非亲血缘关系的进程共享，一般应用在父子进程。</p>
<h4 id="创建无名管道"><a href="#创建无名管道" class="headerlink" title="创建无名管道"></a>创建无名管道</h4><h4 id="单向管道流"><a href="#单向管道流" class="headerlink" title="单向管道流"></a>单向管道流</h4><p>步骤1：创建管道，返回两个无名管道文件描述符对 fildes1 和fildes2。为了简化书写，我们称fildes1 为管道1fildes2 为管道2。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> fildes1[<span class="number">2</span>], fildes2(<span class="number">2</span>] ;</span><br><span class="line">pipe (fildes1);</span><br><span class="line">pipe (fildes2);</span><br></pre></td></tr></table></figure>

<p>步骤2：创建子进程，子进程中继承管道1和管道2。 步骤3：父进程关闭管道1的输出端，即关闭只读文件描述符 fleds1[0]。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close(fildes1[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>

<p>步骤4：子进程关闭管道1的输入端，即关闭只写文件描述符 fileds1[1]。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close (fildes1[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>

<p>步骤5：父进程关闭管道工的输入端，即关闭只读文件描述符 fileds2[1]。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close (fildes2[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>

<p>步骤6：子进程关闭管道11的输出端，即关闭只写文件描述符 fileds2[0]。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close (fildes2[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>

<p>实例</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> fildes[<span class="number">2</span>];</span><br><span class="line">	<span class="type">pid_t</span> pid;</span><br><span class="line">	<span class="type">int</span> i, j;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">256</span>];</span><br><span class="line">	<span class="keyword">if</span> (pipe(fildes) &lt; <span class="number">0</span>)	<span class="comment">/* 创建管道 */</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;pipe error!\n&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> ((pid = fork()) &lt; <span class="number">0</span>)	<span class="comment">/* 创建子进程 */</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;fork error!\n&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (pid == <span class="number">0</span>)		<span class="comment">/* 子进程 */</span></span><br><span class="line">	&#123;</span><br><span class="line">		close(fildes[<span class="number">1</span>]);</span><br><span class="line">		<span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">		j = read(fildes[<span class="number">0</span>], buf, <span class="keyword">sizeof</span>(buf));  <span class="comment">/* 读管道 */</span></span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;[child] buf=[%s]len[%d]\n&quot;</span>, buf, j);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* 父进程  */</span></span><br><span class="line">	close(fildes[<span class="number">0</span>]); <span class="comment">/*父进程关闭管道输入*/</span></span><br><span class="line">	write(fildes[<span class="number">1</span>], <span class="string">&quot;hello!&quot;</span>, <span class="built_in">strlen</span>(<span class="string">&quot;hello!&quot;</span>)); <span class="comment">/*写管道*/</span></span><br><span class="line">	write(fildes[<span class="number">1</span>], <span class="string">&quot;world!&quot;</span>, <span class="built_in">strlen</span>(<span class="string">&quot;world!&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="双向管道"><a href="#双向管道" class="headerlink" title="双向管道"></a>双向管道</h4><p>实例</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">WriteG</span><span class="params">(<span class="type">int</span> fd, <span class="type">char</span> *str, <span class="type">int</span> len)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">255</span>];</span><br><span class="line">	<span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">	<span class="built_in">sprintf</span>(buf, <span class="string">&quot;%s&quot;</span>, str);</span><br><span class="line">	write(fd, buf, len);	</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> *<span class="title function_">ReadG</span><span class="params">(<span class="type">int</span> fd, <span class="type">int</span> len)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">255</span>];</span><br><span class="line">	<span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">	read(fd, buf, len);</span><br><span class="line">	<span class="keyword">return</span>(buf);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">WriteC</span><span class="params">(<span class="type">int</span> fd, <span class="type">char</span> *str)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">255</span>];</span><br><span class="line">	<span class="built_in">sprintf</span>(buf, <span class="string">&quot;%04d%s&quot;</span>, <span class="built_in">strlen</span>(str), str);</span><br><span class="line">	write(fd, buf, <span class="built_in">strlen</span>(buf));</span><br><span class="line">&#125;	</span><br><span class="line"><span class="type">char</span> *<span class="title function_">ReadC</span><span class="params">(<span class="type">int</span> fd)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">255</span>];</span><br><span class="line">	<span class="type">int</span> i, j;</span><br><span class="line">	<span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">	j = read(fd, buf, <span class="number">4</span>);</span><br><span class="line">	i = atoi(buf);</span><br><span class="line">	j = read(fd, buf, i);</span><br><span class="line">	<span class="keyword">return</span>(buf);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> fildes1[<span class="number">2</span>], fildes2[<span class="number">2</span>];</span><br><span class="line">	<span class="type">pid_t</span> pid;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">255</span>];</span><br><span class="line">	<span class="keyword">if</span> (pipe(fildes1) &lt; <span class="number">0</span> || pipe(fildes2) &lt; <span class="number">0</span>)	<span class="comment">/* 创建管道 */</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;pipe error!\n&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> ((pid = fork()) &lt; <span class="number">0</span>)	<span class="comment">/* 创建子进程 */</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;fork error!\n&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (pid == <span class="number">0</span>)		<span class="comment">/* 子进程 */</span></span><br><span class="line">	&#123;</span><br><span class="line">		close(fildes1[<span class="number">1</span>]);</span><br><span class="line">		close(fildes2[<span class="number">0</span>]);</span><br><span class="line">		<span class="built_in">strcpy</span>(buf, ReadG(fildes1[<span class="number">0</span>], <span class="number">10</span>));</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;[child] buf=[%s]\n&quot;</span>, buf);</span><br><span class="line">		WriteC(fildes2[<span class="number">1</span>], buf);</span><br><span class="line">		<span class="built_in">strcpy</span>(buf, ReadG(fildes1[<span class="number">0</span>], <span class="number">10</span>));</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;[child] buf=[%s]\n&quot;</span>, buf);</span><br><span class="line">		WriteC(fildes2[<span class="number">1</span>], buf);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* 父进程 */</span></span><br><span class="line">	close(fildes1[<span class="number">0</span>]);</span><br><span class="line">	close(fildes2[<span class="number">1</span>]);</span><br><span class="line">	WriteG(fildes1[<span class="number">1</span>], <span class="string">&quot;hello!&quot;</span>, <span class="number">10</span>);</span><br><span class="line">	WriteG(fildes1[<span class="number">1</span>], <span class="string">&quot;world!&quot;</span>, <span class="number">10</span>);</span><br><span class="line">	<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;[father] buf=[%s]\n&quot;</span>, ReadC(fildes2[<span class="number">0</span>]));</span><br><span class="line">	<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;[father] buf=[%s]\n&quot;</span>, ReadC(fildes2[<span class="number">0</span>]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="I-x2F-O重定向"><a href="#I-x2F-O重定向" class="headerlink" title="I&#x2F;O重定向"></a>I&#x2F;O重定向</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> fildes[<span class="number">2</span>];</span><br><span class="line">	<span class="type">pid_t</span> pid;</span><br><span class="line">	<span class="type">int</span> i, j;</span><br><span class="line">	<span class="type">char</span> buf[<span class="number">256</span>];</span><br><span class="line">	<span class="keyword">if</span> (pipe(fildes) &lt; <span class="number">0</span> || (pid = fork()) &lt; <span class="number">0</span>)	<span class="comment">/* ¥¥Ω®π‹µ¿∫Õ◊”Ω¯≥Ã */</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;error!\n&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (pid == <span class="number">0</span>)		<span class="comment">/* ◊”Ω¯≥Ã */</span></span><br><span class="line">	&#123;</span><br><span class="line">		close(fildes[<span class="number">1</span>]);</span><br><span class="line">		dup2(fildes[<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line">		close(fildes[<span class="number">0</span>]);</span><br><span class="line">		gets(buf);</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;child:[%s]\n&quot;</span>, buf);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* ∏∏Ω¯≥Ã */</span></span><br><span class="line">	close(fildes[<span class="number">0</span>]);</span><br><span class="line">	dup2(fildes[<span class="number">1</span>], <span class="number">1</span>);</span><br><span class="line">	close(fildes[<span class="number">1</span>]);</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="popen模型"><a href="#popen模型" class="headerlink" title="popen模型"></a>popen模型</h4><h3 id="有名管道"><a href="#有名管道" class="headerlink" title="有名管道"></a>有名管道</h3><h4 id="创建有名管道"><a href="#创建有名管道" class="headerlink" title="创建有名管道"></a>创建有名管道</h4><h4 id="应用有名管道的流程"><a href="#应用有名管道的流程" class="headerlink" title="应用有名管道的流程"></a>应用有名管道的流程</h4><h4 id="应用有名管道的模型"><a href="#应用有名管道的模型" class="headerlink" title="应用有名管道的模型"></a>应用有名管道的模型</h4><h5 id="“1-1”模型"><a href="#“1-1”模型" class="headerlink" title="“1-1”模型"></a>“1-1”模型</h5><h5 id="“n-1”模型"><a href="#“n-1”模型" class="headerlink" title="“n-1”模型"></a>“n-1”模型</h5><h5 id="“n-1-n”模型"><a href="#“n-1-n”模型" class="headerlink" title="“n-1-n”模型"></a>“n-1-n”模型</h5><h2 id="12-消息队列"><a href="#12-消息队列" class="headerlink" title="12.消息队列"></a>12.消息队列</h2>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-成就解锁（日常）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/09/30/%E6%88%90%E5%B0%B1%E8%A7%A3%E9%94%81%EF%BC%88%E6%97%A5%E5%B8%B8%EF%BC%89/" class="article-date">
      <time datetime="2022-09-30T04:44:00.000Z" itemprop="datePublished">2022-09-30</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/09/30/%E6%88%90%E5%B0%B1%E8%A7%A3%E9%94%81%EF%BC%88%E6%97%A5%E5%B8%B8%EF%BC%89/">成就解锁（日常）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="成就"><a href="#成就" class="headerlink" title="成就"></a>成就</h1><h2 id="已达成"><a href="#已达成" class="headerlink" title="已达成"></a>已达成</h2><h3 id="1-敲代码的猫的博客"><a href="#1-敲代码的猫的博客" class="headerlink" title="1.敲代码的猫的博客"></a>1.敲代码的猫的博客</h3><p>搭建好自己的博客并发布</p>
<h3 id="4-初来乍到"><a href="#4-初来乍到" class="headerlink" title="4.初来乍到"></a>4.初来乍到</h3><p>参加CODEYA捧杯</p>
<h3 id="12-最后的礼物"><a href="#12-最后的礼物" class="headerlink" title="12.最后的礼物"></a>12.最后的礼物</h3><p>2022年10月4日提交</p>
<hr>
<h2 id="未达成"><a href="#未达成" class="headerlink" title="未达成"></a>未达成</h2><h3 id="2-C-精通"><a href="#2-C-精通" class="headerlink" title="2.C++精通"></a>2.C++精通</h3><p>学完并掌握C++从入门到精通</p>
<h3 id="3-JAVA精通"><a href="#3-JAVA精通" class="headerlink" title="3.JAVA精通"></a>3.JAVA精通</h3><p>学完并掌握java从入门到精通</p>
<h3 id="5-JS精通"><a href="#5-JS精通" class="headerlink" title="5.JS精通"></a>5.JS精通</h3><p>学完并掌握javascript从入门到精通</p>
<h3 id="6-PYTHON精通"><a href="#6-PYTHON精通" class="headerlink" title="6.PYTHON精通"></a>6.PYTHON精通</h3><p>学完并掌握python从入门到精通</p>
<h3 id="7-C-精通"><a href="#7-C-精通" class="headerlink" title="7.C#精通"></a>7.C#精通</h3><p>学完并掌握C#从入门到精通</p>
<h3 id="8-算法精通"><a href="#8-算法精通" class="headerlink" title="8.算法精通"></a>8.算法精通</h3><p>学完算法和数据结构</p>
<h3 id="9-算法达人"><a href="#9-算法达人" class="headerlink" title="9.算法达人"></a>9.算法达人</h3><p>做完100道leecode算法题并提交</p>
<h3 id="10-项目精通"><a href="#10-项目精通" class="headerlink" title="10.项目精通"></a>10.项目精通</h3><p>做三个小型项目并发布博客分享</p>
<h3 id="11-项目达人"><a href="#11-项目达人" class="headerlink" title="11.项目达人"></a>11.项目达人</h3><p>做三个中型项目并提交到GITHUB</p>
<h3 id="13-迟来的四级"><a href="#13-迟来的四级" class="headerlink" title="13.迟来的四级"></a>13.迟来的四级</h3><p>在2022年考过四级</p>
<h3 id="14-UE4毕业"><a href="#14-UE4毕业" class="headerlink" title="14.UE4毕业"></a>14.UE4毕业</h3><p>学完谌嘉诚的UE4教程视频</p>
<h3 id="15-我的游戏"><a href="#15-我的游戏" class="headerlink" title="15.我的游戏"></a>15.我的游戏</h3><p>做一款完整的UE4游戏</p>
<h3 id="16-我爱学习"><a href="#16-我爱学习" class="headerlink" title="16.我爱学习"></a>16.我爱学习</h3><p>补完科林所有视频</p>
<h3 id="17-笔记达人"><a href="#17-笔记达人" class="headerlink" title="17.笔记达人"></a>17.笔记达人</h3><p>整理各个阶段笔记</p>
<h3 id="18-爱分享的博主"><a href="#18-爱分享的博主" class="headerlink" title="18.爱分享的博主"></a>18.爱分享的博主</h3><p>做十篇简单技术分享</p>
<h3 id="19-自律"><a href="#19-自律" class="headerlink" title="19.自律"></a>19.自律</h3><p>一个星期不打游戏</p>
<h3 id="20-断念"><a href="#20-断念" class="headerlink" title="20.断念"></a>20.断念</h3><p>一个星期不聊天</p>
<h3 id="21-成就精通"><a href="#21-成就精通" class="headerlink" title="21.成就精通"></a>21.成就精通</h3><p>达成十个成就</p>
<h3 id="22-成就达人"><a href="#22-成就达人" class="headerlink" title="22.成就达人"></a>22.成就达人</h3><p>达成十个成就</p>
<h3 id="23-运动健将"><a href="#23-运动健将" class="headerlink" title="23.运动健将"></a>23.运动健将</h3><p>坚持晨跑1周</p>
<h3 id="24-勤俭持家"><a href="#24-勤俭持家" class="headerlink" title="24.勤俭持家"></a>24.勤俭持家</h3><p>坚持15天不乱花钱</p>
<h3 id="25-长征"><a href="#25-长征" class="headerlink" title="25.长征"></a>25.长征</h3><p>在30天内节省1000元</p>
<h3 id="26-启动基金"><a href="#26-启动基金" class="headerlink" title="26.启动基金"></a>26.启动基金</h3><p>攒下5000元不能花</p>
<h3 id="27-坚持午休"><a href="#27-坚持午休" class="headerlink" title="27.坚持午休"></a>27.坚持午休</h3><p>6：00 起 23：00睡 午睡一小时</p>
<h3 id="28-敲代码的猫"><a href="#28-敲代码的猫" class="headerlink" title="28.敲代码的猫"></a>28.敲代码的猫</h3><p>坚持敲30天代码</p>
<h3 id="29-敲代码的狐狸"><a href="#29-敲代码的狐狸" class="headerlink" title="29.敲代码的狐狸"></a>29.敲代码的狐狸</h3><p>坚持敲60天代码</p>
<h3 id="30-敲代码达人"><a href="#30-敲代码达人" class="headerlink" title="30.敲代码达人"></a>30.敲代码达人</h3><p>坚持敲15天代码</p>
<h3 id="程序员的必修课"><a href="#程序员的必修课" class="headerlink" title="程序员的必修课"></a>程序员的必修课</h3><p>看完以下书籍： </p>
<p>TCP&#x2F;IP详解卷1卷2</p>
<p>计算机网络</p>
<p>离散数学</p>
<p>数据结构与算法</p>
<p>MySQL</p>
<p>Oracle</p>
<p>SQL Server</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux高级编程(笔记)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/09/27/Linux%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B(%E7%AC%94%E8%AE%B0)/" class="article-date">
      <time datetime="2022-09-27T00:11:03.000Z" itemprop="datePublished">2022-09-27</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/09/27/Linux%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B(%E7%AC%94%E8%AE%B0)/">Linux高级编程（笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>[TOC]</p>
<h1 id="Linux高级编程"><a href="#Linux高级编程" class="headerlink" title="Linux高级编程"></a>Linux高级编程</h1><h2 id="1-GitHub-开源项目托管网站-git"><a href="#1-GitHub-开源项目托管网站-git" class="headerlink" title="1.GitHub(开源项目托管网站,git)"></a>1.GitHub(开源项目托管网站,git)</h2><h5 id="1-1GitHub介绍"><a href="#1-1GitHub介绍" class="headerlink" title="1.1GitHub介绍:"></a>1.1GitHub介绍:</h5><p>第三方项目托管网站，很多的企业级代码工程或开源free的代码在此平台上托管，开发者聚集地</p>
<p>topics:分类标签</p>
<p>trending:推送标签</p>
<p>查询关键字:  </p>
<p>awesome  #好玩的 tutorial #查询文档资料 sample #练习内容和小实例</p>
<h5 id="1-2CODE-工程资源（代码及其他文件资源）"><a href="#1-2CODE-工程资源（代码及其他文件资源）" class="headerlink" title="1.2CODE #工程资源（代码及其他文件资源）"></a>1.2CODE #工程资源（代码及其他文件资源）</h5><p>README.md #markdown编写的项目自述文档，文档中记录了项目的作业，使用流程，及依赖选项，可以使用和调试</p>
<p>LICENSE #许可证 在使用前一定要认真阅览许可声明，如果违规使用可能引发法务问题</p>
<p>几种授权许可，给使用者最大的使用权限，以及最小的限制，用户可以放心的使用此类项目：</p>
<p>MIT #麻省理工实验室许可证</p>
<p>Apache #apache基金会许可</p>
<h5 id="1-3ISSUES-问答标签"><a href="#1-3ISSUES-问答标签" class="headerlink" title="1.3ISSUES #问答标签"></a>1.3ISSUES #问答标签</h5><h5 id="1-4GITHUB三要素："><a href="#1-4GITHUB三要素：" class="headerlink" title="1.4GITHUB三要素："></a>1.4GITHUB三要素：</h5><p>仓库：工程代码资源的存储位置，内部保存用户项目工程的所有数据内容</p>
<p>Commit 提交：操作上传代码资源时，要进行提交，每次提交GitHub都会记录保存这次提交（添加、删除、修改）开发者随时都可以通过提交记录回溯到某个时刻的修改，找回以前的内容和片段</p>
<p>Branch分支：</p>
<h5 id="1-5关联性设置："><a href="#1-5关联性设置：" class="headerlink" title="1.5关联性设置："></a>1.5关联性设置：</h5><p>1.用本地Git软件与Github账号进行关联设置</p>
<p>2.为云端的仓库地址起别名，便于后期将本地内容上传同步到云端</p>
<h5 id="1-6Git软件的介绍与Git命令"><a href="#1-6Git软件的介绍与Git命令" class="headerlink" title="1.6Git软件的介绍与Git命令"></a>1.6Git软件的介绍与Git命令</h5><p>Git是一个分布式版本的控制系统，开发使用Git软件可以特别方便的管理云端仓库，对云端内容进行同步，修改，删除等等操作</p>
<p>ssh -T <a href="mailto:&#x67;&#105;&#x74;&#64;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#x6f;&#109;">&#x67;&#105;&#x74;&#64;&#x67;&#105;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#x6f;&#109;</a> #关联认证</p>
<p>git init #创建本地仓库</p>
<p>git config –list #查看git配置信息</p>
<p>git config –global #键值对 #向配置文件中添加配置项user.name user.emali</p>
<p>ssh-keygen -t rsa -C 邮箱 #创建本地密钥，用于数据传输加密</p>
<h5 id="1-7配置流程："><a href="#1-7配置流程：" class="headerlink" title="1.7配置流程："></a>1.7配置流程：</h5><p>1.根据生成密钥的存储位置，找到id_rsa.pub公有密钥文件,拷贝其中的密钥字符串</p>
<p>2.Github云端账号中用户头像位置的下拉菜单，选择settings</p>
<p>3.SSH and GPG Key，将复制的本地密钥字符串粘贴，Add Keys</p>
<p>4.ssh -T <a href="mailto:&#103;&#105;&#x74;&#x40;&#x67;&#x69;&#116;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#109;">&#103;&#105;&#x74;&#x40;&#x67;&#x69;&#116;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#109;</a> #再次测试关联</p>
<h5 id="1-8定位云端仓库"><a href="#1-8定位云端仓库" class="headerlink" title="1.8定位云端仓库"></a>1.8定位云端仓库</h5><p><a href="mailto:&#103;&#105;&#x74;&#x40;&#103;&#x69;&#116;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#109;">&#103;&#105;&#x74;&#x40;&#103;&#x69;&#116;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#109;</a>:wilbur227&#x2F;cabbage-0.git</p>
<p>为云端仓库地址起别名，后续通过别名上传本地内容到云端</p>
<p>git remote add origin <a href="mailto:&#x67;&#x69;&#116;&#64;&#103;&#x69;&#116;&#104;&#117;&#x62;&#46;&#99;&#x6f;&#x6d;">&#x67;&#x69;&#116;&#64;&#103;&#x69;&#116;&#104;&#117;&#x62;&#46;&#99;&#x6f;&#x6d;</a>:wilbur227&#x2F;cabbage-0.git</p>
<p>git remote remove origin #删除别名</p>
<h5 id="1-9完整代码提交流程"><a href="#1-9完整代码提交流程" class="headerlink" title="1.9完整代码提交流程"></a>1.9完整代码提交流程</h5><p>git add code.cpp #将代码添加到缓冲区</p>
<p>git status #查看缓冲区内容和状态</p>
<p>commit -m “首次提交”#将缓冲区内容提交到仓库</p>
<p>git push origin master#将本地内容同步到云端</p>
<p>git rm code.cpp #删除备份内容</p>
<p>git restore code.cpp #还原内容</p>
<p>git pull –rebase origin master #从云端仓库拉取分支到本地</p>
<p>git clone “HTTPS的仓库地址”</p>
<p><a target="_blank" rel="noopener" href="https://sm.ms/" title="点击进入sm.ms">图片上传网站</a></p>
<h2 id="2-Linux基本命令"><a href="#2-Linux基本命令" class="headerlink" title="2.Linux基本命令"></a>2.Linux基本命令</h2><p>ls<br>ls -l<br>ls -a<br>ls -R 递归列出所有文件夹<br>man ls查看命令帮助</p>
<p>echo输出<br>cd改变文件夹<br>cd ..回到上一个文件夹<br>cd &#x2F;回到根目录<br>cd ~<br>cd<br>pwd 获取文件所在路径</p>
<p>clear 清屏<br>当唯一确定时tab可以自动补齐<br>mkdir 创建文件夹<br>rmdir 移除文件夹<br>rm -r递归删除<br>rm -rf强制删除不询问<br>touch 创建文件<br>mv（移动文件&#x2F;重命名文件）<br>cp（拷贝文件或内容）<br>vi（打开一个文件编辑）<br>wq保存并退出<br>q直接退出<br>q!不保存退出</p>
<p>head查看前几行<br>tail查看后几行</p>
<p>ln 硬链接<br>ln -s软链接<br>wc<br>od<br>du<br>df -h查看磁盘使用情况<br>sudo临时提升权限<br>chmod更改权限<br>chown<br>find<br>grep “return” .&#x2F; -R</p>
<p>安装和卸载<br>sudo apt-get update<br>sudo apt-get install package</p>
<p>mount<br>sudo useradd -s 创建用户 </p>
<p>sudo su切换到root用户</p>
<p>进程管理：</p>
<p>ps  aux#监控后台进程</p>
<p>sp上下分屏</p>
<p>vsp左右分屏</p>
<p>Ctr+w+w: 在多个窗口切换</p>
<h2 id="3-process"><a href="#3-process" class="headerlink" title="3.process"></a>3.process</h2><h5 id="3-1程序和进程的关系"><a href="#3-1程序和进程的关系" class="headerlink" title="3.1程序和进程的关系"></a>3.1程序和进程的关系</h5><p>程序是静态实体（进程的静态表现），进程是动态实例（程序的动态实例）</p>
<p>程序保存在电脑中占用磁盘资源，进程是程序启动后的执行结果，占用Cpu内存等系统资源</p>
<h5 id="3-2进程在操作系统中的逻辑形态"><a href="#3-2进程在操作系统中的逻辑形态" class="headerlink" title="3.2进程在操作系统中的逻辑形态"></a>3.2进程在操作系统中的逻辑形态</h5><p>物理内存概念：物理内存大小取决于PC上的内存条设备</p>
<p>虚拟内存概念：逻辑内存</p>
<p>PCB（进程控制块，其中包含了进程详细信息，例如：进程id，进程缓存位置，进程启动时间，进程状态等等）</p>
<p>系统进程数量，取决于PCB数量，如果PCB耗尽则无法创建新进程</p>
<p>内核层只有系统可以读写访问，用户是没有访问权限的</p>
<h5 id="3-3内核层-x2F-系统层"><a href="#3-3内核层-x2F-系统层" class="headerlink" title="3.3内核层&#x2F;系统层"></a>3.3内核层&#x2F;系统层</h5><p>PCB（进程控制块）:存储于内核层，包含进程详细信息，例如：进程ID，进程缓存位置，进程启动时间，进程状态</p>
<h5 id="3-4用户层"><a href="#3-4用户层" class="headerlink" title="3.4用户层"></a>3.4用户层</h5><p>命令行参数与环境变量</p>
<p>栈(8M)</p>
<p>Library(库)</p>
<p>堆</p>
<p>BSS (未初始化全局数据)</p>
<p>DATA (已初始化全局数据)</p>
<p>Text (代码段)</p>
<p>NULL (哨兵)</p>
<p><em><strong>系统中复杂繁多的映射关系存储在虚拟内存映射表中，由内存管理器管理和设置</strong></em></p>
<p><em><strong>内存是共享资源，多个进程可以交替使用</strong></em></p>
<p>系统进程数量取决于PCB数量，如果PCB耗尽则无法创建新进程</p>
<h5 id="3-5内存单位"><a href="#3-5内存单位" class="headerlink" title="3.5内存单位"></a>3.5内存单位</h5><p>page(页) 1page &#x3D; 4096Bytes, 1page &#x3D; 8k , 1page &#x3D; 16k</p>
<h5 id="3-6内存的权限"><a href="#3-6内存的权限" class="headerlink" title="3.6内存的权限"></a>3.6内存的权限</h5><p>PROT_READ(只读)</p>
<p>PROT_WRITE(只写)</p>
<p>PROT_NONE(无)</p>
<p>PROT_EXEC(执行)</p>
<h2 id="4-ipc"><a href="#4-ipc" class="headerlink" title="4.ipc"></a>4.ipc</h2><h2 id="5-thread"><a href="#5-thread" class="headerlink" title="5.thread"></a>5.thread</h2><h2 id="6-thread-safa"><a href="#6-thread-safa" class="headerlink" title="6.thread_safa"></a>6.thread_safa</h2><h2 id="7-soket套接字"><a href="#7-soket套接字" class="headerlink" title="7.soket套接字"></a>7.soket套接字</h2><p>套接字技术用于网络应用开发，各个语言和操作系统都有对套接字的支持和实现，对开发者而言，网络是一个比较宽泛的概念，但是套接字函数的学习和使用是开发者的必备技能。socket套接字技术即使操作系统提供给开发者使用一系列针对网络应用开发的函数接口(Socket API)</p>
<h5 id="7-1-在Linux下socket的类型及定义"><a href="#7-1-在Linux下socket的类型及定义" class="headerlink" title="7.1.在Linux下socket的类型及定义"></a>7.1.在Linux下socket的类型及定义</h5><p>int sockfd   </p>
<p>（IP、PORT）</p>
<p>SockerPair  </p>
<p>sockfd是网络通信的主要部件</p>
<p>socket描述符</p>
<h5 id="7-2-网络信息结构体"><a href="#7-2-网络信息结构体" class="headerlink" title="7.2.网络信息结构体"></a>7.2.网络信息结构体</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in_addr</span></span></span><br><span class="line"><span class="class"><span class="title">addr</span>.<span class="title">sin_family</span> =</span> AF_INET | AF_INET6</span><br><span class="line">addr.<span class="built_in">sin</span>.addr.s.addr = 存储大端IP</span><br><span class="line">addr.<span class="built_in">sin</span> port = 存储大端端口</span><br></pre></td></tr></table></figure>

<h5 id="7-3-大小端转换函数"><a href="#7-3-大小端转换函数" class="headerlink" title="7.3.大小端转换函数"></a>7.3.大小端转换函数</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">htons() #小端转大端端口号</span><br><span class="line">htonl() #小端转大端IP</span><br><span class="line"><span class="title function_">ntohs</span><span class="params">()</span> #大端转小端端口号</span><br><span class="line"><span class="title function_">ntohl</span><span class="params">()</span> #大端转小端IP</span><br><span class="line"><span class="title function_">inet_ntop</span><span class="params">()</span> #大端IP转为字符串IP</span><br><span class="line"><span class="title function_">inet_pton</span><span class="params">()</span> #字符串IP转为大端序IP</span><br></pre></td></tr></table></figure>

<h5 id="7-4-socket套接字函数"><a href="#7-4-socket套接字函数" class="headerlink" title="7.4.socket套接字函数"></a>7.4.socket套接字函数</h5><p>1.Socket创建</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> sockfd = socket(AF_INET,SOCK_STREAM|SOCK_DGRAM,<span class="type">int</span> protocal) #最后参数传<span class="number">0</span>表示默认协议，常指TCP\UDP</span><br><span class="line">RETURN:成功返回sockfd，失败返回<span class="number">-1</span>,并且设置errno,进行错误处理</span><br></pre></td></tr></table></figure>

<p>2.socket创建后直接可以使用，ip为本地任意ip，端口为随机端口</p>
<p>3.Bind，使用网络信息结构体与sockfd进行绑定设置，设置替换sockfd中的网络信息。(tcp,udp)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> Result = bind(<span class="type">int</span> sockfd,struct_sockaddr *addr,<span class="type">socklen_t</span> addrlen) #使用自定义网络结构体设置修改sockfd</span><br><span class="line">RETURN:绑定设置成功返回<span class="number">0</span>，绑定设置失败返回<span class="number">-1</span>，设置errno，进行错误处理</span><br></pre></td></tr></table></figure>

<p>4.Listen,监听网络连接状态(tcp)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Listen(<span class="type">int</span> sockfd, <span class="type">int</span> Backlog)参数为监听的sockfd,设置监听序列的大小</span><br><span class="line">RETURN:调用成功，返回<span class="number">0</span>，失败返回<span class="number">-1</span>，设置errno,进行错误处理</span><br></pre></td></tr></table></figure>

<p>5.Connect,请求连接函数（TCP）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> Result = connect(<span class="type">int</span> Mysockfd,sockaddr* destAddr，<span class="type">socklen_t</span> addrlen)#阻塞连接函数</span><br><span class="line">RETURN:连接成功，返回<span class="number">0</span>，失败返回<span class="number">-1</span>，设置errno,进行错误处理，如果因网络问题无法及时连接，connect会阻塞连接</span><br></pre></td></tr></table></figure>

<p>6.Accept,等待连接函数（TCP）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> Result = Accept(<span class="type">int</span> server_fd,sockaddr* clientsaddr,<span class="type">socklen_t</span>* addrlen)#</span><br><span class="line">RETURN:成功返回客户端sockfd，失败返回<span class="number">-1</span>，设置errno,进行错误处理</span><br><span class="line">    </span><br><span class="line">    addrlen传出传入参数：传入你可以接收的网络信息结构体，传出实际大小。</span><br></pre></td></tr></table></figure>

<p>7.Socket读写函数、</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ssize_t</span> recvlen = recv(<span class="type">int</span> sockfd,<span class="type">const</span> <span class="type">char</span>* buffer,<span class="type">size_t</span> len,<span class="type">int</span> flag) #读写socket数据函数</span><br><span class="line"><span class="type">ssize_t</span> slen = send(<span class="type">int</span> sockfd,<span class="type">const</span> <span class="type">char</span>* buffer,<span class="type">size_t</span> len,<span class="type">int</span> flag)#将本机数据通过send发送</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="8-服务器编程"><a href="#8-服务器编程" class="headerlink" title="8.服务器编程"></a>8.服务器编程</h2><p>服务器基本概述：企业级后台服务软件，各种软件客户端无法脱离服务器技术，服务器为各样的功能软件提供后台支持，技术支持，数据支持等等</p>
<p>服务器软件执行周期较长（7*24）小时不间断执行</p>
<h5 id="8-1服务器种类："><a href="#8-1服务器种类：" class="headerlink" title="8.1服务器种类："></a>8.1服务器种类：</h5><p>1.软件服务器CS</p>
<p>自行设计服务器组织架构，协议指定，协议状态机数据处理，千万级并发中转交互</p>
<p>设计实现取决于软件的功能与用户的需求</p>
<p>自定义协议（封装tcp&#x2F;udp）</p>
<p>2.web服务器BS</p>
<p>使用HTTP协议（基于TCP实现）</p>
<h5 id="8-2服务器的职责与作用"><a href="#8-2服务器的职责与作用" class="headerlink" title="8.2服务器的职责与作用"></a>8.2服务器的职责与作用</h5><p>1.网络穿透</p>
<p>客户端连接时向服务器提交网络信息</p>
<p>保存客户端最新的网络信息</p>
<p>为独立无关联的客户端中转数据，建立通信渠道，实现通信效果</p>
<p>2.高并发能力</p>
<p>并发能力是一个服务器的基本能力，并发数量（并发处理数量），多个用户可以同时连接访问服务器，服务器 一对多完成度，是服务器的重要性能指标。</p>
<p>3.安全性</p>
<p>访问权限校验，数据通信加密，隔离机制（反向代理服务器），防火墙策略和设置</p>
<p>4.存储能力</p>
<p>缓存临时数据，持久化用户数据等待（磁盘存储，数据存储（mysql,raides,oracle,sqlserver））</p>
<p>5.业务处理</p>
<p>处理客户端请求，完成特定任务</p>
<h5 id="8-3服务器操作系统："><a href="#8-3服务器操作系统：" class="headerlink" title="8.3服务器操作系统："></a>8.3服务器操作系统：</h5><p>服务器操作系统市场占有率最高的是linux\unix操作系统，cantOs,ubuntu,Linux服务器系统稳定，安全性，可用性较高，也有很多windows服务器系统</p>
<h5 id="8-4开源服务器软件"><a href="#8-4开源服务器软件" class="headerlink" title="8.4开源服务器软件"></a>8.4开源服务器软件</h5><p>Apache服务器</p>
<p>Nginx服务器</p>
<p>无需用户过多干预，设置配置，搭建服务流程结构，实现业务主体，即可投入使用</p>
<h5 id="8-5-功能性服务器"><a href="#8-5-功能性服务器" class="headerlink" title="8.5 功能性服务器"></a>8.5 功能性服务器</h5><p>处理服务器</p>
<p>文件服务器</p>
<p>数据库服务器</p>
<p>代理服务器（中转）</p>
<p>分布式服务器集群：由海量服务主机设备构成，实现资源共享（网络实现进程通信），统一管理，统一设置</p>
<h5 id="负载均衡策略："><a href="#负载均衡策略：" class="headerlink" title="负载均衡策略："></a>负载均衡策略：</h5><h5 id="代理服务器作用："><a href="#代理服务器作用：" class="headerlink" title="代理服务器作用："></a>代理服务器作用：</h5><h5 id="HA高可用模型："><a href="#HA高可用模型：" class="headerlink" title="HA高可用模型："></a>HA高可用模型：</h5><h5 id="TPS-QPS-吞吐量，压力测试，负载测试等等服务器性能指标："><a href="#TPS-QPS-吞吐量，压力测试，负载测试等等服务器性能指标：" class="headerlink" title="TPS,QPS,吞吐量，压力测试，负载测试等等服务器性能指标："></a>TPS,QPS,吞吐量，压力测试，负载测试等等服务器性能指标：</h5><h5 id="服务器开发："><a href="#服务器开发：" class="headerlink" title="服务器开发："></a>服务器开发：</h5><p>本章代码，主要放在服务器的设计实现，优化上，客户端实现基本功能即可（连接与断开，响应系统时间）</p>
<p>对简单的客户端服务器模型进行补充，对套接字函数进行二次包裹便于使用，实现一个简单业务，客户端通过timeofday关键向服务器请求系统时间，服务器进行反馈响应</p>
<p>对于socket套接字函数的二次包裹，网络研发工程师会根据使用系统，对函数或库函数进行包裹，将套接字函数的错误处理包裹起来，便于使用</p>
<h5 id="单进程服务端测试DEMO-1-1"><a href="#单进程服务端测试DEMO-1-1" class="headerlink" title="单进程服务端测试DEMO(1:1)"></a>单进程服务端测试DEMO(1:1)</h5><h5 id="多进程并发模型-1-N"><a href="#多进程并发模型-1-N" class="headerlink" title="多进程并发模型(1:N)"></a>多进程并发模型(1:N)</h5><h2 id="9-正则表达式"><a href="#9-正则表达式" class="headerlink" title="9.正则表达式"></a>9.正则表达式</h2><h2 id="10-阶段项目"><a href="#10-阶段项目" class="headerlink" title="10.阶段项目"></a>10.阶段项目</h2><h3 id="Spider-网络蜘蛛"><a href="#Spider-网络蜘蛛" class="headerlink" title="Spider 网络蜘蛛"></a>Spider 网络蜘蛛</h3><p>网络爬虫是一个批处理程序，可以自动化获取下载万维网资源（带有拓扑能力的下载器）爬虫工作于万维网</p>
<p>以www开头为标准的所有网页网站相关内容，web服务器（万维网服务）,BS是万维网的主体架构。</p>
<h5 id="爬虫应用：搜索引擎"><a href="#爬虫应用：搜索引擎" class="headerlink" title="爬虫应用：搜索引擎"></a>爬虫应用：搜索引擎</h5><p><img src="/Linux%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B(%E7%AC%94%E8%AE%B0).assets/1666867103060.png" alt="1666867103060"></p>
<h5 id="HTML超文本标记语言"><a href="#HTML超文本标记语言" class="headerlink" title="HTML超文本标记语言"></a>HTML超文本标记语言</h5><p>网络源代码</p>
<h5 id="HTTP协议（http-x2F-https）超文本传输协议"><a href="#HTTP协议（http-x2F-https）超文本传输协议" class="headerlink" title="HTTP协议（http&#x2F;https）超文本传输协议"></a>HTTP协议（http&#x2F;https）超文本传输协议</h5><p>基于TCP协议实现</p>
<h5 id="OPENSSL库"><a href="#OPENSSL库" class="headerlink" title="OPENSSL库"></a>OPENSSL库</h5><p>安全套接字</p>
<h5 id="URL，统一资源定位符（资源地址）"><a href="#URL，统一资源定位符（资源地址）" class="headerlink" title="URL，统一资源定位符（资源地址）"></a>URL，统一资源定位符（资源地址）</h5><p>http类型&#x2F;&#x2F;域名&#x2F;存储文件&#x2F;文件名</p>
<h5 id="网络资源类型"><a href="#网络资源类型" class="headerlink" title="网络资源类型"></a>网络资源类型</h5><p>html,shtml,xml,txt等文本资源</p>
<p>jpg,png,bmp等二进制资源</p>
<p>rmvb,flv,mp4,avi等视频资源</p>
<p>mp3等音频资源、</p>
<h5 id="爬虫的工作方式（分析与拓扑）"><a href="#爬虫的工作方式（分析与拓扑）" class="headerlink" title="爬虫的工作方式（分析与拓扑）"></a>爬虫的工作方式（分析与拓扑）</h5><h4 id="百度百科词条爬虫"><a href="#百度百科词条爬虫" class="headerlink" title="百度百科词条爬虫"></a>百度百科词条爬虫</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-敲代码的猫的博客(日常)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/09/26/%E6%95%B2%E4%BB%A3%E7%A0%81%E7%9A%84%E7%8C%AB%E7%9A%84%E5%8D%9A%E5%AE%A2(%E6%97%A5%E5%B8%B8)/" class="article-date">
      <time datetime="2022-09-26T00:11:03.000Z" itemprop="datePublished">2022-09-26</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/09/26/%E6%95%B2%E4%BB%A3%E7%A0%81%E7%9A%84%E7%8C%AB%E7%9A%84%E5%8D%9A%E5%AE%A2(%E6%97%A5%E5%B8%B8)/">第一篇博客（日常）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h5 id="今天阿猫搭建好了自己的博客，纪念一下吧"><a href="#今天阿猫搭建好了自己的博客，纪念一下吧" class="headerlink" title="今天阿猫搭建好了自己的博客，纪念一下吧~"></a>今天阿猫搭建好了自己的博客，纪念一下吧~</h5><p><img src="https://s2.loli.net/2022/09/27/AGzE9U2LFQk53Tx.jpg" alt="e82ad33443f80ddaa3b6320f5f8db92.jpg"></p>
<h5 id="之后阿猫会定期更新一些编程心得和日常（暗中观察）"><a href="#之后阿猫会定期更新一些编程心得和日常（暗中观察）" class="headerlink" title="之后阿猫会定期更新一些编程心得和日常（暗中观察）"></a>之后阿猫会定期更新一些编程心得和日常（暗中观察）</h5><p><img src="https://s2.loli.net/2022/09/27/U1ucCsB2njhiqgm.jpg" alt="0d697434065cf5a0fa29fbe84fb622d.jpg"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2022 John Doe
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>